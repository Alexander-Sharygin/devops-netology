## Задача 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД 
лучше выбрать для хранения определённых данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

- электронные чеки в json-виде,  
        **Реляционные БД, например postgresql умеет хранить json. Или документоориентированные БД, MongoDB, nosql решение для хранения json-подобных документов. .**
- склады и автомобильные дороги для логистической компании,  
        **Графовые БД, Neo4j, так как графы наиболее подходящая система описания данных для логистических задач и гео-систем**
- генеалогические деревья,  
        **Есть способы хранить древовидные структуры в реляционных СУБД (postgres, mssql, mysql..)  
        Так же можно в графовой БД, Neo4j, дерево это тоже граф.**
- кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации,  
        **memcached быстрый хранится в ram, есть настройка ttl.**
- отношения клиент-покупка для интернет-магазина.  
        **Реляционная БД или БД ключ значение, лучше первое, т.к. наверняка понадобится хранить, не только соотношение, но и сами заказы информацию о клиентах и т.д.**
        
Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

## Задача 2

Вы создали распределённое высоконагруженное приложение и хотите классифицировать его согласно 
CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если 
(каждый пункт — это отдельная реализация вашей системы и для каждого пункта нужно привести классификацию):

- данные записываются на все узлы с задержкой до часа (асинхронная запись);  
  ~~CA~~  
  AP - асинхронная запись, с задержкой до часа, не может гарантировать консистентность данных на всех серверах.
  PA/EL - т.к при разделении ориентирована на доступность, нет разделения видимо на доступность ориентировна система.  
- при сетевых сбоях система может разделиться на 2 раздельных кластера;  
  AP - Оставил здесь без исправления  
  система работает при разеделении, делясь на два кластера, значит она так же не может гарантировать консистентность данных.  
  PS: такие системы вообще бывают в реально жизни? не понятно как такая система соберется обратно при устранении сетевого сбоя, в ней будут конфликтующие данные, каким образом разрешать эти конфликты.
  PA/EL - При разделении система работает разделившись на два кластера, значит не сохраняет консистеность ориентирована на доступность, как работает система когда нет разделения не ясно, вераятно ориентация на меньщую задержку.
- система может не прислать корректный ответ или сбросить соединение.  
  CP - т.к. система работает в ущерб доступности.  
  PC/EC - Ориентирована на консистентность данных при разделении.
Согласно PACELC-теореме как бы вы классифицировали эти реализации?

## Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?  
  **Не могут т.к. принцыпы противоречат друг другу, BASE про производительность, доступность в ущерб соглсованности, ACID требует немедленную согласованность.**

## Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни,
- реакция на истечение таймаута.

Вы слышали о key-value-хранилище, которое имеет механизм Pub/Sub. 
Что это за система? Какие минусы выбора этой системы?

Это про Radis, имеет механизм pub/sub? ttl механизм реакции на истечение ttl
 Минусы решения:
 - В случае отказа сервера, данныем будут потеряны, сохранятся только послдение синхронизированные с диском.  
 - Система не предназначена для постоянного хранения данных  
 - Высокие требования к ОЗУ  
 - Отсутствие разграничения прав доступа.  

Доработка:  
 - Redis Cluster не гарантирует строгой согласованности, не реализует строгую согласованность даже при использовании синхронной репликации (можем потерять записи)  
 - Не поддерживает откат транзакций. В транзакциях возможна потеря данных, возможно частичное выполнение. 
 - На сколько я понял, есть компромис между быстродействием и сохраненнием данных, высокое быстродейтсвие вынудит быть готовым к потере части свежих данных.  
 - Однопоточность redis может быть минусом